# 语音播报 组件库 tts.dll 使用说明

Z语言接口使用说明

#### 1、语音播报基本操作接口（组名"tts",用 out tts命令可以显示全部子集接口）

```apl
---<out tts
[tts].sub(pay set swav )
```

------



##### 1.1：播报设置

| 接口 | tts.set | 设置语音播报                            |
| ---- | ------- | --------------------------------------- |
| 入参 | volume  | 播报声音大小0~100                       |
| 入参 | rate    | 播报语速 0是正常速度，>0 加速度，<0减速 |
| 反回 | bool    | 成功返回 true，失败返回 false           |

```c
bool tts.set(volume,rate) //settts(90,0) 音量90%，正常速度
```



##### 1.2：播报语音

| 接口 | tts.pay | 文字转语音                                                   |
| ---- | ------- | ------------------------------------------------------------ |
| 入参 | data    | 播报内容（utf8编码）                                         |
| 入参 | block   | 阻塞标记，当为1时，语音播报完成才反回，当为0时，启动播报后就返回。当此参数不存在时，默认为0 |
| 反回 | bool    | 成功返回 true，失败返回 false                                |

```c
bool tts.pay(data,block/null) // tts.pay("我是雷锋，我喜欢帮助别人"),tts.pay("我正在播放直到结束返回",1)
```



##### 1.3：合成音频

| 接口 | tts.swav | 合成固定频率的音频              |
| ---- | -------- | ------------------------------- |
| 入参 | hz       | 频率                            |
| 入参 | timeMs   | 毫秒时间                        |
| 入参 | volume   | 默认90%                         |
| 返回 | bool     | 成功返回 wavbuf，失败返回 false |

```c
wavbuf tts.swav(hz,time,volume/null) // data=tts.swav(1500,1000);
  			// outf("1500.wav",data)   通过平台自带的文件输出接口输出音频文件：
```







##### C 程序引用方法定义基础代码：**[自然语言理解NLU-第三方功能接入](https://gitee.com/kebo521/nlu3)**